/**
  ***************************************************************************************************************************************
  * @file     system_it.c
  * @owner    SimonBat
  * @version  v0.0.1
  * @date     2021.09.06
  * @update   2021.09.06
  * @brief    sentinel v1.0
  ***************************************************************************************************************************************
  * @attention
  *
  * (Where to use)
  *
  ***************************************************************************************************************************************
  */

#include "system_it.h"
#include "tsl_time.h"
#include "i2c.h"
#include "BTPSKRNL.h"
#include "usbd_conf.h"
#include "system.h"
#include "bat.h"

/**
  ***************************************************************************************************************************************
  * @brief  This function handles Non maskable interrupt
  * @param  None
  * @retval None
  ***************************************************************************************************************************************
  */
void NMI_Handler(void)
{
	while(1U){NVIC_SystemReset();};
}

/**
  ***************************************************************************************************************************************
  * @brief  This function handles Hard fault interrupt
  * @param  None
  * @retval None
  ***************************************************************************************************************************************
  */
void HardFault_Handler(void)
{
	while(1U){NVIC_SystemReset();};
}

/**
  ***************************************************************************************************************************************
  * @brief  This function handles Non maskable interrupt
  * @param  None
  * @retval None
  ***************************************************************************************************************************************
  */
void MemManage_Handler(void)
{
	while(1U){NVIC_SystemReset();};
}

/**
  ***************************************************************************************************************************************
  * @brief  This function handles Prefetch fault, memory access fault
  * @param  None
  * @retval None
  ***************************************************************************************************************************************
  */
void BusFault_Handler(void)
{
	while(1U){NVIC_SystemReset();};
}

/**
  ***************************************************************************************************************************************
  * @brief  This function handles Undefined instruction or illegal state
  * @param  None
  * @retval None
  ***************************************************************************************************************************************
  */
void UsageFault_Handler(void)
{
	while(1U){NVIC_SystemReset();};
}

/**
  ***************************************************************************************************************************************
  * @brief  This function handles System service call via SWI instruction
  * @param  None
  * @retval None
  ***************************************************************************************************************************************
  */
void SVC_Handler(void)
{

}

/**
  ***************************************************************************************************************************************
  * @brief  This function handles Debug monitor
  * @param  None
  * @retval None
  ***************************************************************************************************************************************
  */
void DebugMon_Handler(void)
{

}

/**
  ***************************************************************************************************************************************
  * @brief  This function handles Pendable request for system service
  * @param  None
  * @retval None
  ***************************************************************************************************************************************
  */
void PendSV_Handler(void)
{

}

/**
  ***************************************************************************************************************************************
  * @brief  This function handles System tick timer
  * @param  None
  * @retval None
  ***************************************************************************************************************************************
  */
void SysTick_Handler(void)
{
	HAL_IncTick();
	TSL_tim_ProcessIT();
	BTPS_Update_Timer();
	SYSTEM_Update_TMO();
	BAT_Update_TMO();
}

/**
  ***************************************************************************************************************************************
  * @brief  This function handles USB event interrupt through EXTI line 17
  * @param  None
  * @retval None
  ***************************************************************************************************************************************
  */
void USB_IRQHandler(void)
{
	USBD_Interupt_Handler();
}
